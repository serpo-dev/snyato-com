{"ast":null,"code":"var _jsxFileName = \"/home/sergey/Documents/live-catcher/src/components/common/Slider/Slider.js\";\nimport React from 'react';\nimport stylesheet from './Slider.module.css';\nimport * as axios from 'axios';\nimport Loading from '../../common/Loading/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Slider = props => {\n  let state = props.state;\n  let axiosType = props.axiosType; // load data at the start from db.json\n\n  this.props.isFetchingToggle(true);\n  let startCount = this.props.startCount;\n  let endCount = startCount + 3;\n  axios.get(`http://localhost:3001/posts?_start=${startCount}&_end=${endCount}`).then(response => {\n    this.props.isFetchingToggle(false);\n    this.props.setPosts(response.data);\n  });\n\n  const getNextPost = () => {\n    // load data at the start from db.json\n    state.isFetchingToggle(true);\n    state.updateSlider();\n    let startCount = state.startCount;\n    let endCount = startCount + 3;\n    let frame = document.querySelector(`.${stylesheet.frame}`);\n\n    if (frame.style.top === \"-450px\") {\n      axios.get(`http://localhost:3001/${axiosType}?_start=${startCount}&_end=${endCount}`).then(response => {\n        state.isFetchingToggle(false);\n        state.setPosts(response.data);\n        frame.style.top = \"0px\";\n        frame.style.transition = null;\n        setTimeout(() => {\n          frame.style.top = \"-450px\";\n          frame.style.transition = \"top 0.2s ease-out 0s\";\n        }, 50);\n      });\n    } else {\n      frame.style.top = \"-450px\";\n      frame.style.transition = \"top 0.2s ease-out 0s\";\n      state.isFetchingToggle(false);\n    }\n  };\n\n  const getPreviousPost = () => {\n    // load data at the start from db.json\n    state.isFetchingToggle(true);\n    state.comebackSlider();\n    let startCount = state.startCount - 2;\n    let endCount = startCount + 3;\n    let frame = document.querySelector(`.${stylesheet.frame}`);\n\n    if (startCount >= 0) {\n      axios.get(`http://localhost:3001/${axiosType}?_start=${startCount}&_end=${endCount}`).then(response => {\n        state.isFetchingToggle(false);\n        state.setPosts(response.data);\n        frame.style.top = \"-900px\";\n        frame.style.transition = null;\n        setTimeout(() => {\n          frame.style.top = \"-450px\";\n          frame.style.transition = \"top 0.2s ease-out 0s\";\n        }, 50);\n      });\n    } else {\n      frame.style.top = \"0px\";\n      frame.style.transition = \"top 0.2s ease-out 0s\";\n      setTimeout(() => {\n        frame.style.top = \"100px\";\n        setTimeout(() => {\n          frame.style.top = \"0px\";\n        }, 50);\n      }, 50);\n      state.isFetchingToggle(false);\n    }\n  };\n\n  let sum = state.sum;\n  const incrementSum = state.incrementSum;\n\n  const onWheel = e => {\n    if (e.deltaY > 0) {\n      incrementSum(1);\n    } else if (e.deltaY < 0) {\n      incrementSum(-1);\n    }\n\n    if (sum === 3) {\n      getNextPost();\n    } else if (sum === -3) {\n      getPreviousPost();\n    }\n  };\n\n  let posts = state.posts;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: stylesheet.loading,\n      children: state.isFetching ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 37\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onWheel: onWheel,\n      className: stylesheet.sliderWrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: stylesheet.slider,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: stylesheet.frame,\n          children: posts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Slider;\nexport default Slider;\n\nvar _c;\n\n$RefreshReg$(_c, \"Slider\");","map":{"version":3,"names":["React","stylesheet","axios","Loading","Slider","props","state","axiosType","isFetchingToggle","startCount","endCount","get","then","response","setPosts","data","getNextPost","updateSlider","frame","document","querySelector","style","top","transition","setTimeout","getPreviousPost","comebackSlider","sum","incrementSum","onWheel","e","deltaY","posts","loading","isFetching","sliderWrapper","slider"],"sources":["/home/sergey/Documents/live-catcher/src/components/common/Slider/Slider.js"],"sourcesContent":["import React from 'react';\nimport stylesheet from './Slider.module.css'\nimport * as axios from 'axios'\nimport Loading from '../../common/Loading/Loading'\n\n\n\nconst Slider = (props) => {\n\n    let state = props.state;\n    let axiosType = props.axiosType;\n\n\n // load data at the start from db.json\n\n this.props.isFetchingToggle(true);\n\n let startCount = this.props.startCount;\n let endCount = startCount + 3;\n\n axios\n     .get(`http://localhost:3001/posts?_start=${startCount}&_end=${endCount}`)\n     .then(response => {\n         this.props.isFetchingToggle(false)\n         this.props.setPosts(response.data)\n     });\n\n\n    const getNextPost = () => {\n\n        // load data at the start from db.json\n\n        state.isFetchingToggle(true);\n        state.updateSlider();\n\n        let startCount = state.startCount;\n        let endCount = startCount + 3;\n\n        let frame = document.querySelector(`.${stylesheet.frame}`)\n\n\n        if (frame.style.top === \"-450px\") {\n\n            axios\n                .get(`http://localhost:3001/${axiosType}?_start=${startCount}&_end=${endCount}`)\n                .then(response => {\n                    state.isFetchingToggle(false)\n                    state.setPosts(response.data)\n                    frame.style.top = \"0px\"\n                    frame.style.transition = null;\n                    setTimeout(() => {\n                        frame.style.top = \"-450px\"\n                        frame.style.transition = \"top 0.2s ease-out 0s\";\n                    }, 50)\n                });\n        } else {\n            frame.style.top = \"-450px\"\n            frame.style.transition = \"top 0.2s ease-out 0s\";\n            state.isFetchingToggle(false)\n        }\n    }\n\n    const getPreviousPost = () => {\n\n        // load data at the start from db.json\n\n        state.isFetchingToggle(true);\n        state.comebackSlider();\n\n        let startCount = state.startCount - 2;\n        let endCount = startCount + 3;\n\n        let frame = document.querySelector(`.${stylesheet.frame}`)\n\n\n        if (startCount >= 0) {\n\n            axios\n                .get(`http://localhost:3001/${axiosType}?_start=${startCount}&_end=${endCount}`)\n                .then(response => {\n                    state.isFetchingToggle(false)\n                    state.setPosts(response.data)\n                    frame.style.top = \"-900px\"\n                    frame.style.transition = null;\n                    setTimeout(() => {\n                        frame.style.top = \"-450px\"\n                        frame.style.transition = \"top 0.2s ease-out 0s\";\n                    }, 50)\n                });\n        } else {\n            frame.style.top = \"0px\"\n            frame.style.transition = \"top 0.2s ease-out 0s\";\n            setTimeout(() => {\n                frame.style.top = \"100px\"\n                setTimeout(() => {\n                    frame.style.top = \"0px\"\n                }, 50);\n            }, 50);\n\n            state.isFetchingToggle(false)\n        }\n    }\n\n    let sum = state.sum;\n    const incrementSum = state.incrementSum;\n\n    const onWheel = (e) => {\n        if (e.deltaY > 0) {\n            incrementSum(1);\n        } else if (e.deltaY < 0) {\n            incrementSum(-1);\n        }\n\n        if (sum === 3) {\n            getNextPost();\n        } else if (sum === -3) {\n            getPreviousPost();\n        }\n    }\n\n    let posts = state.posts;\n\n    return (\n        <div>\n            <div className={stylesheet.loading}>\n                {state.isFetching ? <Loading /> : null}\n            </div>\n            <div onWheel={onWheel} className={stylesheet.sliderWrapper}>\n                <div className={stylesheet.slider}>\n                    <div className={stylesheet.frame}>\n                        {posts}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Slider;"],"mappings":"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"},"metadata":{},"sourceType":"module"}