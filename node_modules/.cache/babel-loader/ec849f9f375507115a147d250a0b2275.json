{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\serge\\\\Documents\\\\snyato-com\\\\src\\\\components\\\\common\\\\Slider\\\\SliderContainer.js\";\nimport React from 'react';\nimport Slider from './Slider';\nimport stylesheet from './Slider.module.css';\nimport * as axios from 'axios';\nimport { SliderAPI } from '../../../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SliderContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.connectToggle = true;\n  }\n\n  componentDidMount() {\n    let state = this.props.state;\n    this.connectToggle = true; // load data at the start from db.json\n\n    state.isFetchingToggle(true);\n    let startCount = state.startCount;\n    let endCount = startCount + 3;\n    SliderAPI.getPosts(startCount, endCount).then(data => {\n      state.isFetchingToggle(false);\n      state.setPosts(data);\n    });\n  }\n\n  render() {\n    let state = this.props.state;\n\n    const getNextPost = resolve => {\n      // load data at the start from db.json\n      state.isFetchingToggle(true);\n      state.updateSlider();\n      let startCount = state.startCount;\n      let endCount = startCount + 3;\n      let frame = document.querySelector(`.${stylesheet.frame}`);\n\n      if (frame.style.top === \"-450px\") {\n        axios.get(`http://localhost:3001/posts?_start=${startCount}&_end=${endCount}`).then(response => {\n          state.isFetchingToggle(false);\n          state.setPosts(response.data);\n          frame.style.top = \"0px\";\n          frame.style.transition = null;\n        }).then(() => {\n          frame.style.top = \"-450px\";\n          frame.style.transition = \"top 0.2s ease-out 0s\";\n          resolve();\n        });\n      } else {\n        frame.style.top = \"-450px\";\n        frame.style.transition = \"top 0.2s ease-out 0s\";\n        state.isFetchingToggle(false);\n        resolve();\n      }\n    };\n\n    const getPreviousPost = resolve => {\n      // load data at the start from db.json\n      state.isFetchingToggle(true);\n      state.comebackSlider();\n      let startCount = state.startCount - 2;\n      let endCount = startCount + 3;\n      let frame = document.querySelector(`.${stylesheet.frame}`);\n\n      if (startCount >= 0) {\n        axios.get(`http://localhost:3001/posts?_start=${startCount}&_end=${endCount}`).then(response => {\n          state.isFetchingToggle(false);\n          state.setPosts(response.data);\n          frame.style.top = \"-900px\";\n          frame.style.transition = null;\n          setTimeout(() => {\n            frame.style.top = \"-450px\";\n            frame.style.transition = \"top 0.2s ease-out 0s\";\n            resolve();\n          }, 50);\n        });\n      } else {\n        frame.style.top = \"0px\";\n        frame.style.transition = \"top 0.2s ease-out 0s\";\n        setTimeout(() => {\n          frame.style.top = \"100px\";\n          setTimeout(() => {\n            frame.style.top = \"0px\";\n            state.isFetchingToggle(false);\n            resolve();\n          }, 50);\n        }, 50);\n      }\n    };\n\n    let sum = state.sum;\n    const incrementSum = state.incrementSum;\n\n    const onWheel = e => {\n      if (this.connectToggle === true) {\n        if (e.deltaY > 0) {\n          incrementSum(1);\n        } else if (e.deltaY < 0) {\n          incrementSum(-1);\n        }\n\n        if (sum === 3) {\n          const propmise = new Promise(resolve => {\n            this.connectToggle = false;\n            getNextPost(resolve);\n          }).then(resolve => {\n            this.connectToggle = true;\n          });\n        } else if (sum === -3) {\n          const promise = new Promise(resolve => {\n            this.connectToggle = false;\n            getPreviousPost(resolve);\n          }).then(resolve => {\n            this.connectToggle = true;\n          });\n        }\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(Slider, {\n      state: this.props.state,\n      axiosType: this.props.axiosType,\n      onWheel: onWheel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SliderContainer;","map":{"version":3,"names":["React","Slider","stylesheet","axios","SliderAPI","SliderContainer","Component","constructor","props","connectToggle","componentDidMount","state","isFetchingToggle","startCount","endCount","getPosts","then","data","setPosts","render","getNextPost","resolve","updateSlider","frame","document","querySelector","style","top","get","response","transition","getPreviousPost","comebackSlider","setTimeout","sum","incrementSum","onWheel","e","deltaY","propmise","Promise","promise","axiosType"],"sources":["C:/Users/serge/Documents/snyato-com/src/components/common/Slider/SliderContainer.js"],"sourcesContent":["import React from 'react';\r\nimport Slider from './Slider';\r\nimport stylesheet from './Slider.module.css'\r\nimport * as axios from 'axios'\r\nimport { SliderAPI } from '../../../api/api';\r\n\r\n\r\n\r\nclass SliderContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.connectToggle = true;\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let state = this.props.state;\r\n\r\n        this.connectToggle = true;\r\n\r\n        // load data at the start from db.json\r\n\r\n        state.isFetchingToggle(true);\r\n\r\n        let startCount = state.startCount;\r\n        let endCount = startCount + 3;\r\n\r\n\r\n        SliderAPI.getPosts(startCount, endCount)\r\n            .then(data => {\r\n                state.isFetchingToggle(false)\r\n                state.setPosts(data)\r\n            })\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        let state = this.props.state;\r\n\r\n        const getNextPost = (resolve) => {\r\n\r\n            // load data at the start from db.json\r\n\r\n            state.isFetchingToggle(true);\r\n            state.updateSlider();\r\n\r\n            let startCount = state.startCount;\r\n            let endCount = startCount + 3;\r\n\r\n            let frame = document.querySelector(`.${stylesheet.frame}`)\r\n\r\n            if (frame.style.top === \"-450px\") {\r\n\r\n                axios\r\n                    .get(`http://localhost:3001/posts?_start=${startCount}&_end=${endCount}`)\r\n                    .then(response => {\r\n                        state.isFetchingToggle(false)\r\n                        state.setPosts(response.data)\r\n                        frame.style.top = \"0px\"\r\n                        frame.style.transition = null\r\n                    })\r\n                    .then(() => {\r\n                        frame.style.top = \"-450px\"\r\n                        frame.style.transition = \"top 0.2s ease-out 0s\";\r\n                        resolve();\r\n                    })\r\n\r\n            } else {\r\n                frame.style.top = \"-450px\"\r\n                frame.style.transition = \"top 0.2s ease-out 0s\";\r\n                state.isFetchingToggle(false)\r\n                resolve();\r\n            }\r\n        }\r\n\r\n        const getPreviousPost = (resolve) => {\r\n\r\n            // load data at the start from db.json\r\n\r\n            state.isFetchingToggle(true);\r\n            state.comebackSlider();\r\n\r\n            let startCount = state.startCount - 2;\r\n            let endCount = startCount + 3;\r\n\r\n            let frame = document.querySelector(`.${stylesheet.frame}`)\r\n\r\n\r\n            if (startCount >= 0) {\r\n\r\n                axios\r\n                    .get(`http://localhost:3001/posts?_start=${startCount}&_end=${endCount}`)\r\n                    .then(response => {\r\n                        state.isFetchingToggle(false)\r\n                        state.setPosts(response.data)\r\n                        frame.style.top = \"-900px\"\r\n                        frame.style.transition = null;\r\n                        setTimeout(() => {\r\n                            frame.style.top = \"-450px\";\r\n                            frame.style.transition = \"top 0.2s ease-out 0s\";\r\n                            resolve();\r\n                        }, 50)\r\n                    });\r\n            } else {\r\n                frame.style.top = \"0px\"\r\n                frame.style.transition = \"top 0.2s ease-out 0s\";\r\n                setTimeout(() => {\r\n                    frame.style.top = \"100px\";\r\n                    setTimeout(() => {\r\n                        frame.style.top = \"0px\";\r\n                        state.isFetchingToggle(false);\r\n                        resolve();\r\n                    }, 50);\r\n                }, 50);\r\n\r\n\r\n            }\r\n        }\r\n\r\n        let sum = state.sum;\r\n        const incrementSum = state.incrementSum;\r\n\r\n\r\n\r\n        const onWheel = (e) => {\r\n\r\n            if (this.connectToggle === true) {\r\n                if (e.deltaY > 0) {\r\n                    incrementSum(1);\r\n                } else if (e.deltaY < 0) {\r\n                    incrementSum(-1);\r\n                }\r\n\r\n                if (sum === 3) {\r\n                    const propmise = new Promise((resolve) => {\r\n                        this.connectToggle = false;\r\n                        getNextPost(resolve);\r\n                    }).then(resolve => {\r\n                        this.connectToggle = true;\r\n                    })\r\n\r\n                } else if (sum === -3) {\r\n                    const promise = new Promise((resolve) => {\r\n                        this.connectToggle = false;\r\n                        getPreviousPost(resolve);\r\n                    }).then(resolve => {\r\n                        this.connectToggle = true;\r\n                    })\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n            <Slider\r\n                state={this.props.state}\r\n                axiosType={this.props.axiosType}\r\n                onWheel={onWheel}\r\n            />\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SliderContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}